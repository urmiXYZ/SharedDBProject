<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDUA Admin - Unified SPA</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" />
    
    <style>
        /* =========================================
           1. UNIFIED THEME & VARIABLES (EXISTING)
           ========================================= */
        :root {
            --red-main: #dc3545;
            --red-dark: #b41f31;
            --yellow-main: #ffc107;
            --bg-body: #faf5f5;
            --glass-bg: rgba(255, 255, 255, 0.82);
            --glass-border: rgba(255, 255, 255, 0.9);
            --text-main: #212529;
            --text-muted: #6c757d;
            --shadow-soft: 0 18px 45px rgba(0, 0, 0, 0.14);
            --radius-xl: 20px;
            --transition: 0.2s ease-out;
            --sidebar-width: 260px;
            
            /* Dashboard Specific Colors */
            --dash-card-radius: 16px;
            --dash-transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --theme-blue: #60a5fa; 
            --theme-blue-soft: #eff6ff;
            --theme-blue-border: #bfdbfe;
            --theme-green: #34d399; 
            --theme-green-soft: #ecfdf5;
            --theme-green-border: #a7f3d0;
            --theme-red: #dc3545;
            --theme-red-soft: #fff5f5;
            --theme-red-border: rgba(220, 53, 69, 0.25);
            
            /* Customer Colors (From existing logic) */
            --blue-primary: #3b82f6;
            --blue-light: #eff6ff;
            --green-primary: #10b981;
            --green-light: #ecfdf5;
            --amber-primary: #f59e0b;
            --amber-light: #fffbeb;
            --red-primary: #ef4444;
            --red-light: #fef2f2;
            --gray-primary: #6b7280;
            --gray-light: #f3f4f6;
            --text-dark: #1e293b;

            /* --- NEW: Orders CSS Variables (Merged) --- */
            --modal-radius: 20px;
            --primary-accent: #6366f1;
            --success-green: #10b981;
            --warning-amber: #f59e0b;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --bg-light: #fafbfc;
            --border-light: #e2e8f0;
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.08);
        }

        * { box-sizing: border-box; }

        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            background: radial-gradient(circle at top left, #ffe8e8 0, #fff7e0 50%, #f8f9fa 100%);
            color: var(--text-main);
        }

        /* =========================================
           2. LAYOUT & SIDEBAR (EXISTING)
           ========================================= */
        .admin-wrapper {
            display: flex;
            height: 100vh;
            width: 100%;
            padding: 15px;
            gap: 15px;
            position: relative;
        }

        .admin-sidebar {
            width: var(--sidebar-width);
            flex-shrink: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
        }

        /* Mobile Sidebar Logic */
        @media (min-width: 768px) {
            .admin-sidebar.toggled { width: 0; margin-left: -15px; opacity: 0; }
        }
        @media (max-width: 767.98px) {
            .admin-sidebar {
                position: absolute; top: 15px; left: 15px; bottom: 15px; z-index: 1050;
                transform: translateX(calc(-100% - 20px));
                height: calc(100% - 30px);
                box-shadow: 5px 0 25px rgba(0,0,0,0.15);
            }
            .admin-sidebar.toggled { transform: translateX(0); }
        }

        .admin-main {
            flex-grow: 1;
            height: 100%;
            min-width: 0;
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(18px) saturate(140%);
            -webkit-backdrop-filter: blur(18px) saturate(140%);
            border-radius: var(--radius-xl);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Sidebar Styling */
        .sidebar-content { padding: 1rem; height: 100%; overflow-y: auto; }
        
        .brand-logo {
            width: 40px; height: 40px; border-radius: 50%;
            background: radial-gradient(circle at 30% 0, #fff5d0 0, var(--yellow-main) 45%, var(--red-main) 100%);
            display: flex; align-items: center; justify-content: center;
            font-weight: 700; color: #721c24;
            box-shadow: 0 10px 25px rgba(220, 53, 69, 0.45);
        }

        .nav-pills .nav-link {
            border-radius: 999px; padding: .6rem 1rem; font-size: .9rem;
            color: var(--text-muted); transition: all var(--transition);
            margin-bottom: 0.25rem; display: flex; align-items: center; gap: 0.6rem;
            border: 1px solid transparent; cursor: pointer;
        }
        .nav-pills .nav-link:hover { background: rgba(255, 193, 7, 0.12); color: var(--red-dark); }
        .nav-pills .nav-link.active {
            background: rgba(220, 53, 69, 0.08); color: var(--red-main);
            border-color: rgba(220, 53, 69, 0.15); font-weight: 600;
        }
        .nav-link-sm { font-size: 0.85rem; padding: 0.4rem 1rem; }
        .dropdown-arrow { transition: transform 0.2s ease; margin-left: auto; }
        .nav-link[aria-expanded="true"] .dropdown-arrow { transform: rotate(180deg); }

        /* =========================================
           3. CONTENT AREAS & SPA LOGIC (EXISTING)
           ========================================= */
        .admin-content-area {
            padding: 1.5rem; padding-top: 4rem; flex-grow: 1; overflow-y: auto;
        }
        
        .view-section { display: none; animation: fadeIn 0.3s; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.2); }

        /* =========================================
           4. DASHBOARD SPECIFIC CSS (EXISTING)
           ========================================= */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            border-radius: var(--dash-card-radius);
            transition: transform var(--dash-transition), box-shadow var(--dash-transition);
            height: 100%; display: flex; flex-direction: column; overflow: hidden;
        }
        .glass-card:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08); }
        
        .kpi-card { border: 1px solid var(--theme-red-border) !important; min-height: 120px; justify-content: center; }
        .card-orders { border: 1px solid var(--theme-blue-border) !important; }
        .card-products { border: 1px solid var(--theme-green-border) !important; }
        
        .card-header-custom {
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            padding: 1rem 1.5rem; border-bottom: 1px solid #f1f5f9;
            display: flex; justify-content: space-between; align-items: center;
        }

        .table-modern { margin-bottom: 0; }
        .table-modern thead th {
            background-color: #fff; color: var(--text-muted); font-size: 0.75rem;
            text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid #f1f5f9; padding: 1rem;
        }
        .product-list-item { padding: 0.9rem 1.5rem; border-bottom: 1px solid #f8f9fa; transition: background 0.2s; }
        .product-list-item:hover { background-color: #f8fafc; }
        .product-icon {
            width: 38px; height: 38px; background: #f8f9fa; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; color: var(--text-muted);
        }

        /* =========================================
           5. PRODUCT MANAGEMENT CSS (EXISTING)
           ========================================= */
        .table-wrapper { border-radius: 16px; overflow: hidden; background: #fff; border: 1px solid rgba(0,0,0,0.06); }
        .products-table thead {
            background: linear-gradient(to right, rgba(220, 53, 69, 0.1), rgba(255, 193, 7, 0.1));
            color: var(--red-dark); font-size: 0.85rem; text-transform: uppercase; font-weight: 900;
            border-bottom: 2px solid var(--red-main);
        }
        .products-table th, .products-table td { padding: 1rem 1.2rem; vertical-align: middle; }
        
        .pill-tag {
            font-size: .7rem; text-transform: uppercase; letter-spacing: .18em; padding: .1rem .6rem;
            border-radius: 999px; background: #fff; border: 1px solid rgba(220, 53, 69, .25); color: var(--red-dark);
        }
        .status-badge {
            display: inline-block; padding: 0.375rem 0.875rem; border-radius: 20px;
            font-size: 0.8rem; font-weight: 600; text-transform: uppercase;
        }
        .status-active { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .status-inactive { background: linear-gradient(135deg, #fc8181 0%, #f56565 100%); color: white; }
        .product-img-thumb { width: 50px; height: 50px; object-fit: cover; border-radius: 8px; border: 1px solid #eee; }

        .form-control-modal {
            border-color: #e2e8f0; padding: 0.6rem 0.85rem; border-radius: 8px; font-size: 0.95rem;
        }
        .form-control-modal:focus {
            border-color: #a0aec0; background-color: #f8fafc; box-shadow: 0 0 0 3px rgba(160, 174, 192, 0.1);
        }

        /* =========================================
           6. MODALS CSS (EXISTING)
           ========================================= */
        .modal-custom {
            border: none; border-radius: 20px; overflow: hidden;
            background: #ffffff; 
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        .modal-header-custom {
            background: linear-gradient(135deg, var(--red-main), var(--red-dark));
            color: #fff; padding: 20px 30px; border: none;
        }
        .modal-header-danger {
            background: linear-gradient(135deg, #dc3545, #9b1c28);
            color: #fff; padding: 20px 30px; border: none;
        }
        .btn-close-white { filter: invert(1) grayscale(100%) brightness(200%); }
        
        .product-details-card { background: white; border-radius: 12px; border: 1px solid #e2e8f0; }
        .details-header { padding: 1rem 1.5rem; border-bottom: 1px solid #f1f5f9; display: flex; align-items: center; gap: 0.75rem; }
        .details-header-icon { width: 32px; height: 32px; background: #f1f5f9; border-radius: 8px; display: flex; align-items: center; justify-content: center; }
        .price-value { font-size: 1.1rem; font-weight: 700; color: #10b981; }
        .detail-group { padding: 0.5rem; border-radius: 8px; border: 1px solid transparent; }
        .detail-group:hover { background-color: #f1f5f9; }

        .delete-warning { display: flex; gap: 1rem; align-items: flex-start; margin-bottom: 1.5rem; background: #fff5f5; padding: 1rem; border-radius: 10px; border: 1px solid #feb2b2; }
        .warning-icon { width: 40px; height: 40px; background: #fc8181; color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2rem; flex-shrink: 0; }

        #sidebar-toggle-btn { background: rgba(255,255,255,0.8); backdrop-filter: blur(4px); }

        /* =========================================
           7. CUSTOMER & SHARED STYLES (EXISTING)
           ========================================= */
        .customer-details-modal { background-color: #f8fafc; padding-bottom: 1rem; }
        #dataModal .modal-body { padding: 20px; background-color: #f8f9fa; }

        .info-section {
            background: white;
            margin: 1rem;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            overflow: hidden;
            box-shadow: var(--shadow-card);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .section-header {
            padding: 0.75rem 1.25rem;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .section-content { padding: 1.25rem; }

        .address-card { border-left: 5px solid var(--blue-primary); }
        .address-card .section-header { background: linear-gradient(90deg, var(--blue-light) 0%, #ffffff 100%); color: #1d4ed8; }
        .address-card:hover { transform: translateX(5px); box-shadow: var(--shadow-hover); }

        .address-type-badge {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white; padding: 0.25rem 0.75rem; border-radius: 99px;
            font-size: 0.7rem; box-shadow: 0 2px 4px rgba(37, 99, 235, 0.3); margin-left: auto;
        }

        .order-card.card-confirmed { border-left: 5px solid var(--green-primary); }
        .order-card.card-confirmed .section-header { background: linear-gradient(90deg, var(--green-light) 0%, #ffffff 100%); color: #065f46; }
        .order-card.card-confirmed:hover { transform: translateX(5px); box-shadow: 0 10px 20px rgba(16, 185, 129, 0.15); }

        .order-card.card-pending { border-left: 5px solid var(--amber-primary); }
        .order-card.card-pending .section-header { background: linear-gradient(90deg, var(--amber-light) 0%, #ffffff 100%); color: #92400e; }
        .order-card.card-pending:hover { transform: translateX(5px); box-shadow: 0 10px 20px rgba(245, 158, 11, 0.15); }

        .order-card.card-danger { border-left: 5px solid var(--red-primary); }
        .order-card.card-danger .section-header { background: linear-gradient(90deg, var(--red-light) 0%, #ffffff 100%); color: #991b1b; }

        .order-card.card-other { border-left: 5px solid var(--gray-primary); }
        .order-card.card-other .section-header { background: linear-gradient(90deg, var(--gray-light) 0%, #ffffff 100%); color: #374151; }

        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        .info-item { display: flex; flex-direction: column; }
        .info-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-muted); font-weight: 700; margin-bottom: 0.25rem; }
        .info-value { font-size: 0.95rem; font-weight: 600; color: var(--text-dark); }
        .notes-box { font-size: 0.9rem; color: var(--text-dark); line-height: 1.5; }

        /* =========================================
           8. MERGED: ORDERS.CSS STYLES (NEW)
           ========================================= */
        /* 1. Modal Container */
        .order-details-modal .modal-dialog { max-width: 600px; margin: 1.5rem auto; }
        .order-details-modal .modal-content {
            border-radius: var(--modal-radius); border: 1px solid var(--border-light);
            background: #ffffff; box-shadow: var(--shadow-lg); overflow: hidden;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        /* 2. Header */
        .modal-header-soft { background: #ffffff; border-bottom: 1px solid var(--border-light); padding: 1.5rem 1.75rem; }
        .modal-header-soft .modal-title { font-weight: 600; letter-spacing: -0.025em; color: var(--text-primary); font-size: 1.125rem; }
        .modal-header-soft .text-primary { color: var(--primary-accent) !important; font-weight: 700; }
        .modal-header-soft .btn-close { opacity: 0.4; transition: opacity 0.2s; }
        .modal-header-soft .btn-close:hover { opacity: 0.8; }

        /* 3. Modal Body */
        .order-details-modal .modal-body { padding: 0; background: #fafbfc; max-height: 70vh; overflow-y: auto; }
        .order-details-modal .modal-body::-webkit-scrollbar { width: 6px; }
        .order-details-modal .modal-body::-webkit-scrollbar-track { background: #f1f5f9; }
        .order-details-modal .modal-body::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        .order-details-modal .modal-body::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* 4. Info Sections Overrides for Order Modal */
        .order-details-modal .info-section {
            background: #ffffff; margin: 0.75rem 1.25rem; border-radius: 12px;
            border: 1px solid var(--border-light); overflow: hidden;
            box-shadow: var(--shadow-sm); transition: all 0.2s ease;
        }
        .order-details-modal .info-section:first-child { margin-top: 1.25rem; }
        .order-details-modal .info-section:last-child { margin-bottom: 1.25rem; }
        .order-details-modal .info-section:hover { box-shadow: var(--shadow-md); border-color: #cbd5e1; }

        .order-details-modal .section-header {
            display: flex; align-items: center; gap: 0.5rem; padding: 0.875rem 1.25rem;
            background: linear-gradient(to bottom, #fafbfc, #f8fafc);
            border-bottom: 1px solid var(--border-light); font-size: 0.813rem;
            font-weight: 600; color: var(--text-secondary); text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .order-details-modal .section-header svg { color: var(--primary-accent); opacity: 0.7; }
        .order-details-modal .section-content { padding: 1.25rem; }

        /* 5. Status Section Special Styling */
        .status-section .section-content { padding: 1rem 1.25rem; }
        .status-section #m-status {
            display: inline-flex !important; align-items: center !important; gap: 0.5rem !important;
            font-size: 0.938rem !important; font-weight: 600 !important; padding: 0 0 0 1.25rem !important;
            margin: 0 !important; border-radius: 0 !important; letter-spacing: -0.01em !important;
            background: transparent !important; border: none !important; position: relative !important;
            box-shadow: none !important;
        }
        .status-section #m-status::before {
            content: '' !important; position: absolute !important; left: 0 !important; top: 50% !important;
            transform: translateY(-50%) !important; width: 10px !important; height: 10px !important;
            border-radius: 50% !important; transition: all 0.3s ease !important;
        }
        .status-section #m-status.bg-success { color: #059669 !important; }
        .status-section #m-status.bg-success::before { background: #10b981 !important; box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.12) !important; }
        .status-section #m-status.bg-warning { color: #d97706 !important; }
        .status-section #m-status.bg-warning::before { background: #f59e0b !important; box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.12) !important; }
        .status-section #m-status.bg-secondary-subtle { color: #475569 !important; }
        .status-section #m-status.bg-secondary-subtle::before { background: #64748b !important; box-shadow: 0 0 0 4px rgba(100, 116, 139, 0.12) !important; }

        /* 6. Info Grid & Values */
        .info-value.code {
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace; background: #f1f5f9;
            padding: 0.375rem 0.625rem; border-radius: 6px; font-size: 0.813rem;
            border: 1px solid #e2e8f0; color: #475569; word-break: break-all;
        }

        /* 7. Financial Section Special */
        .financial-section { background: linear-gradient(135deg, #fafbfc 0%, #f0f9ff 100%); border: 1px solid #dbeafe; }
        .financial-section .section-header { background: linear-gradient(to bottom, #f0f9ff, #e0f2fe); border-bottom-color: #bae6fd; }
        .finance-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.75rem; }
        .finance-item {
            display: flex; flex-direction: column; align-items: center; text-align: center;
            padding: 1rem 0.75rem; background: #ffffff; border-radius: 8px;
            border: 1px solid #e2e8f0; transition: all 0.2s ease;
        }
        .finance-item:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.06); }
        .finance-label { font-size: 0.688rem; color: var(--text-secondary); font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem; }
        .finance-value { font-size: 1.125rem; color: var(--text-primary); font-weight: 700; letter-spacing: -0.02em; }
        .finance-item.discount { border-color: #fecaca; background: #fef2f2; }
        .finance-item.discount .finance-value { color: #dc2626; }
        .finance-item.net { border-color: #a7f3d0; background: #f0fdf4; }
        .finance-item.net .finance-value { color: #059669; font-size: 1.375rem; }

        /* 8. Footer */
        .modal-footer-soft { background: #ffffff; border-top: 1px solid var(--border-light); padding: 1rem 1.75rem; }
        .modal-footer-soft .btn-light {
            background: #ffffff; color: var(--text-primary); border: 1px solid var(--border-light);
            font-weight: 500; padding: 0.625rem 1.75rem; border-radius: 8px; font-size: 0.938rem;
            transition: all 0.2s ease; box-shadow: var(--shadow-sm);
        }
        .modal-footer-soft .btn-light:hover { background: #f8fafc; border-color: #cbd5e1; box-shadow: var(--shadow-md); transform: translateY(-1px); }

        /* 9. Responsive */
        @media (max-width: 768px) {
            .order-details-modal .modal-dialog { margin: 0.5rem; }
            .info-section { margin: 0.5rem 1rem; }
            .finance-grid { grid-template-columns: 1fr; }
        }

    </style>
</head>
<body>

    <div class="admin-wrapper">

        <aside class="admin-sidebar" id="admin-sidebar">
            <div class="glass-panel d-flex flex-column h-100 sidebar-content">
                <div class="d-flex align-items-center mb-4 ps-2 pt-2">
                    <div class="brand-logo me-2">M</div>
                    <div class="overflow-hidden">
                        <div class="fw-bold text-truncate" style="max-width: 150px;">MDUA Admin</div>
                        <div class="small text-muted" style="font-size: 0.7rem; letter-spacing: 0.1em;">MANAGEMENT</div>
                    </div>
                </div>

                <div class="mb-2 text-uppercase small text-muted fw-semibold ps-3">Menu</div>
                <ul class="nav nav-pills flex-column mb-auto">

                    <li class="nav-item">
                        <a class="nav-link active" id="nav-dashboard" onclick="switchView('dashboard')">
                            <span>üìä</span> Dashboard
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link collapsed" id="nav-products-parent" data-bs-toggle="collapse" href="#productsMenu" role="button" aria-expanded="false" aria-controls="productsMenu">
                            <span>
                                <span>üì¶</span> Products
                            </span>
                            <span class="dropdown-arrow">‚ñæ</span>
                        </a>
                        <div class="collapse" id="productsMenu">
                            <ul class="nav flex-column ms-3 mt-1 border-start border-2 border-light ps-2">
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-product-list" onclick="switchView('product-list')">Product List</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-add-product" onclick="switchView('add-product')">Add Product</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" id="nav-customers" onclick="switchView('customer-list')">
                            <span>üë•</span> Customers
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link collapsed" id="nav-orders-parent" data-bs-toggle="collapse" href="#OrdersMenu" role="button" aria-expanded="false" aria-controls="OrdersMenu">
                            <span>
                                <span>üõí</span> Orders
                            </span>
                            <span class="dropdown-arrow">‚ñæ</span>
                        </a>
                        <div class="collapse" id="OrdersMenu">
                            <ul class="nav flex-column ms-3 mt-1 border-start border-2 border-light ps-2">
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-order-list" onclick="switchView('order-list')">
                                        Order List
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link nav-link-sm" id="nav-add-order" onclick="switchView('add-order')">
                                        Add Order
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <span>‚öôÔ∏è</span> Settings
                        </a>
                    </li>
                </ul>

                <div class="mt-3 pt-3 border-top border-secondary-subtle">
                    <button class="btn btn-sm btn-outline-danger w-100 d-flex align-items-center justify-content-center gap-2">
                        <span>üö™</span> Logout
                    </button>
                </div>
            </div>
        </aside>

        <main class="admin-main">
            <div class="glass-panel h-100 d-flex flex-column overflow-hidden position-relative">

                <button id="sidebar-toggle-btn" class="btn btn-sm btn-white border shadow-sm position-absolute top-0 start-0 m-3 z-3">
                    <i class="fas fa-bars"></i>
                </button>

                <div class="admin-content-area custom-scrollbar">

                    <div id="view-dashboard" class="view-section active">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h2 class="fw-bold mb-0 text-dark">Dashboard</h2>
                                <div class="text-muted small">Overview for Admin User</div>
                            </div>
                            <span class="badge bg-white text-dark border shadow-sm px-3 py-2 rounded-pill">
                                üìÖ <span id="currentDate">Oct 25, 2023</span>
                            </span>
                        </div>
                        
                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">User ID</div>
                                    <div class="fs-4 fw-bold">1001</div>
                                    <div class="small text-muted">System Identifier</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">Role</div>
                                    <div class="fs-4 fw-bold text-danger">Administrator</div>
                                    <div class="small text-muted">Access Level</div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="glass-card p-3">
                                    <div class="text-muted small text-uppercase fw-bold">Email</div>
                                    <div class="fs-5 fw-semibold text-truncate">admin@mdua.com</div>
                                    <div class="small text-muted">Verified Contact</div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-success position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Total Revenue</div>
                                            <div class="fs-4 fw-bold text-success">Tk. 1,250,000</div>
                                        </div>
                                        <div class="bg-success bg-opacity-10 p-2 rounded-circle text-success">üí∞</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-primary position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Total Orders</div>
                                            <div class="fs-4 fw-bold text-primary">1,240</div>
                                            <div class="small text-muted">12 today</div>
                                        </div>
                                        <div class="bg-primary bg-opacity-10 p-2 rounded-circle text-primary">üõí</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-warning position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Pending</div>
                                            <div class="fs-4 fw-bold text-warning">45</div>
                                            <div class="small text-muted">Needs action</div>
                                        </div>
                                        <div class="bg-warning bg-opacity-10 p-2 rounded-circle text-warning">‚ö°</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="glass-card kpi-card p-3 border-start border-4 border-info position-relative">
                                    <div class="d-flex justify-content-between align-items-start z-1">
                                        <div>
                                            <div class="text-uppercase text-muted small fw-bold mb-1">Customers</div>
                                            <div class="fs-4 fw-bold text-info">8,450</div>
                                        </div>
                                        <div class="bg-info bg-opacity-10 p-2 rounded-circle text-info">üë•</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-4 mb-4">
                            <div class="col-lg-8">
                                <div class="glass-card p-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <h6 class="fw-bold text-dark mb-0">Sales Trend (Last 6 Months)</h6>
                                    </div>
                                    <div style="height: 250px;">
                                        <canvas id="salesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="glass-card p-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <h6 class="fw-bold text-dark mb-0">Order Status</h6>
                                    </div>
                                    <div style="height: 250px; position: relative;">
                                        <canvas id="statusChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row g-4">
                            <div class="col-lg-8">
                                <div class="glass-card card-orders p-0 h-100">
                                    <div class="card-header-custom">
                                        <h6 class="fw-bold mb-0">New Orders</h6>
                                        <a href="#" class="btn btn-sm btn-primary text-white rounded-pill px-3 shadow-sm" title="Add Order">
                                            <span class="me-1">Ôºã</span>
                                        </a>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table table-modern mb-0 align-middle">
                                            <thead>
                                                <tr>
                                                    <th class="ps-4">Order ID</th>
                                                    <th>Type</th>
                                                    <th>Amount</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9012</td>
                                                    <td><span class="badge bg-light text-secondary border">Online</span></td>
                                                    <td class="fw-bold text-dark">Tk. 2,500</td>
                                                    <td><span class="badge bg-success text-white rounded-pill">Confirmed</span></td>
                                                </tr>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9013</td>
                                                    <td><span class="badge bg-light text-secondary border">Direct</span></td>
                                                    <td class="fw-bold text-dark">Tk. 1,200</td>
                                                    <td><span class="badge bg-warning text-dark rounded-pill">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td class="ps-4 fw-bold text-dark">#ORD-9014</td>
                                                    <td><span class="badge bg-light text-secondary border">Online</span></td>
                                                    <td class="fw-bold text-dark">Tk. 5,000</td>
                                                    <td><span class="badge bg-secondary-subtle text-dark rounded-pill">Shipped</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="p-3 text-center border-top bg-light bg-opacity-25">
                                        <a href="#" class="text-decoration-none fw-bold small">See All Orders &rarr;</a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-lg-4">
                                <div class="glass-card card-products p-0 h-100">
                                    <div class="card-header-custom">
                                        <h6 class="fw-bold mb-0">New Products</h6>
                                        <button onclick="switchView('add-product')" class="btn btn-sm btn-success rounded-pill px-3" title="Add Product">
                                            <span class="me-1">Ôºã</span>
                                        </button>
                                    </div>
                                    <div class="product-list">
                                        <div class="product-list-item d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="product-icon">üì¶</div>
                                                <div>
                                                    <div class="fw-bold text-dark small text-truncate" style="max-width: 140px;">Wireless Mouse</div>
                                                    <div class="text-muted" style="font-size: 0.7rem;">Oct 24</div>
                                                </div>
                                            </div>
                                            <span class="fw-bold small text-success">Tk. 850</span>
                                        </div>
                                        <div class="product-list-item d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center gap-3">
                                                <div class="product-icon">üì¶</div>
                                                <div>
                                                    <div class="fw-bold text-dark small text-truncate" style="max-width: 140px;">Mechanical Key..</div>
                                                    <div class="text-muted" style="font-size: 0.7rem;">Oct 23</div>
                                                </div>
                                            </div>
                                            <span class="fw-bold small text-success">Tk. 4,500</span>
                                        </div>
                                    </div>
                                    <div class="p-3 text-center border-top bg-light bg-opacity-25">
                                        <a href="#" onclick="switchView('product-list')" class="text-decoration-none fw-bold text-success small">See All Products &rarr;</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="view-product-list" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h2 class="fw-bold mb-0">Products</h2>
                                <div class="text-muted small">Manage catalog, prices & inventory</div>
                            </div>
                            <button class="btn btn-primary shadow-sm" onclick="switchView('add-product')">
                                <i class="fas fa-plus fa-sm text-white-50"></i> Add New Product
                            </button>
                        </div>

                        <div class="glass-card h-100 d-flex flex-column">
                            <div class="p-3 border-bottom border-light d-flex justify-content-between align-items-center">
                                <div class="fw-bold">Catalog Inventory</div>
                                <div class="input-group w-25">
                                    <input type="text" class="form-control form-control-sm" placeholder="Search...">
                                </div>
                            </div>

                            <div class="table-wrapper flex-grow-1">
                                <div class="table-responsive">
                                    <table class="table table-hover mb-0 align-middle products-table">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Category</th>
                                                <th>Level</th>
                                                <th>Slug</th>
                                                <th>Price</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="fw-semibold">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://placehold.co/50" class="product-img-thumb me-2">
                                                        <span>Combo Offer ‚Äì 3 Premium T-Shirts</span>
                                                    </div>
                                                </td>
                                                <td><span class="pill-tag">Apparel</span></td>
                                                <td>10</td>
                                                <td class="small text-muted">combo-offer</td>
                                                <td><div class="fw-bold">Tk. 1,999.00</div></td>
                                                <td><span class="status-badge status-active">Active</span></td>
                                                <td>
                                                    <div class="d-flex gap-1">
                                                        <button class="btn btn-sm btn-light border" title="Images">üñºÔ∏è</button>
                                                        <button class="btn btn-sm btn-light border" data-bs-toggle="modal" data-bs-target="#productDetailsModal">üìÑ</button>
                                                        <button class="btn btn-sm btn-light border" data-bs-toggle="modal" data-bs-target="#editProductModal">‚úèÔ∏è</button>
                                                        <button class="btn btn-sm btn-danger-subtle text-danger border border-danger-subtle" data-bs-toggle="modal" data-bs-target="#deleteProductModal">üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="fw-semibold">
                                                    <div class="d-flex align-items-center">
                                                        <img src="https://placehold.co/50" class="product-img-thumb me-2">
                                                        <span>Winter Hoodie - Black</span>
                                                    </div>
                                                </td>
                                                <td><span class="pill-tag">Winter Wear</span></td>
                                                <td>5</td>
                                                <td class="small text-muted">winter-hoodie-bk</td>
                                                <td>
                                                    <div class="text-decoration-line-through text-muted small">Tk. 1,200.00</div>
                                                    <div class="text-danger fw-bold">Tk. 850.00</div>
                                                </td>
                                                <td><span class="status-badge status-inactive">Inactive</span></td>
                                                <td>
                                                    <div class="d-flex gap-1">
                                                        <button class="btn btn-sm btn-light border">üñºÔ∏è</button>
                                                        <button class="btn btn-sm btn-light border">üìÑ</button>
                                                        <button class="btn btn-sm btn-light border">‚úèÔ∏è</button>
                                                        <button class="btn btn-sm btn-danger-subtle text-danger border border-danger-subtle">üóëÔ∏è</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="view-add-product" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h2 class="fw-bold mb-0">Add Product</h2>
                                <div class="text-muted small">Create a new item in your catalog</div>
                            </div>
                            <button onclick="switchView('product-list')" class="btn btn-outline-secondary btn-sm rounded-pill px-3">
                                &larr; Back to List
                            </button>
                        </div>

                        <form>
                            <div class="row g-4">
                                <div class="col-lg-8">
                                    <div class="glass-card p-4 h-100">
                                        <h6 class="text-uppercase text-muted small fw-bold mb-4 border-bottom pb-2">Product Details</h6>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Product Name</label>
                                            <input type="text" class="form-control form-control-modal" placeholder="e.g. Premium T-Shirt" required />
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Description</label>
                                            <textarea class="form-control form-control-modal" rows="6" placeholder="Enter full product description..."></textarea>
                                        </div>

                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold small">Base Price</label>
                                                <div class="input-group">
                                                    <span class="input-group-text bg-light border-end-0">Tk</span>
                                                    <input type="number" class="form-control form-control-modal border-start-0 ps-0" placeholder="0.00" />
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold small">Reorder Level</label>
                                                <input type="number" class="form-control form-control-modal" value="0" />
                                            </div>
                                            <div class="col-12">
                                                <label class="form-label fw-bold small">Slug (Unique URL)</label>
                                                <input type="text" class="form-control form-control-modal" placeholder="product-name-slug" />
                                                <div class="form-text small">Leave empty to auto-generate from name.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-4">
                                    <div class="glass-card p-4 position-sticky" style="top: 1rem;">
                                        <h6 class="text-uppercase text-muted small fw-bold mb-3">Configuration</h6>

                                        <div class="bg-light p-3 rounded border mb-3">
                                            <div class="form-check">
                                                <input type="checkbox" class="form-check-input" id="IsActive" checked />
                                                <label class="form-check-label fw-bold" for="IsActive">Active</label>
                                                <div class="small text-muted" style="font-size: 0.75rem;">Visible on storefront</div>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="form-label fw-bold small">Category</label>
                                            <select class="form-select form-control-modal">
                                                <option value="">-- Select Category --</option>
                                                <option value="1">Apparel</option>
                                                <option value="2">Electronics</option>
                                                <option value="3">Winter Wear</option>
                                            </select>
                                        </div>

                                        <hr class="border-light my-4" />

                                        <h6 class="text-uppercase text-muted small fw-bold mb-3">Attributes & Variants</h6>
                                        <div id="attributes-container" class="mb-2">
                                            <div class="attribute-row mb-2">
                                                <label class="small text-muted fw-bold mb-1">Add attribute</label>
                                                <select class="form-select form-select-sm form-control-modal mb-2">
                                                    <option value="">-- Select Attribute --</option>
                                                    <option value="1">Size</option>
                                                    <option value="2">Color</option>
                                                    <option value="3">Fabric</option>
                                                </select>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-sm btn-outline-secondary w-100 dashed-border mb-3">
                                            + Add Another Attribute
                                        </button>

                                        <hr class="border-light my-4" />

                                        <div class="d-grid gap-2">
                                            <button type="button" class="btn btn-danger fw-bold shadow-sm">Create Product</button>
                                            <button type="button" onclick="switchView('product-list')" class="btn btn-light text-muted">Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div id="view-customer-list" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h2 class="fw-bold mb-0">Customer Database</h2>
                                <div class="text-muted small">Total Customers: 3</div>
                            </div>
                        </div>

                        <div class="glass-card h-100 d-flex flex-column">
                            <div class="table-responsive">
                                <table class="table table-hover mb-0 align-middle products-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <th>Status</th>
                                            <th>Created</th>
                                            <th class="text-end">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>John Doe</td>
                                            <td>john.doe@example.com</td>
                                            <td>123-456-7890</td>
                                            <td><span class="badge bg-success-subtle text-success">Active</span></td>
                                            <td class="small text-muted">Jan 01, 2023</td>
                                            <td class="text-end">
                                                <div class="d-flex gap-2 justify-content-end">
                                                    <button type="button" class="btn btn-sm btn-outline-info js-view-details" title="View Details" data-id="1" data-name="John Doe" data-bs-toggle="modal" data-bs-target="#dataModal">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>
                                                    </button>
                                                    <button type="button" class="btn btn-sm btn-outline-secondary js-manage-orders" title="View Orders" data-id="1" data-name="John Doe">üõí</button>
                                                    <button type="button" class="btn btn-sm btn-outline-secondary js-manage-addresses" title="View Addresses" data-id="1" data-name="John Doe">üè†</button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>Jane Smith</td>
                                            <td>jane.smith@example.com</td>
                                            <td>098-765-4321</td>
                                            <td><span class="badge bg-danger-subtle text-danger">Inactive</span></td>
                                            <td class="small text-muted">Feb 15, 2023</td>
                                            <td class="text-end">
                                                <div class="d-flex gap-2 justify-content-end">
                                                    <button type="button" class="btn btn-sm btn-outline-info js-view-details" title="View Details" data-id="2" data-name="Jane Smith" data-bs-toggle="modal" data-bs-target="#dataModal">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>
                                                    </button>
                                                    <button type="button" class="btn btn-sm btn-outline-secondary js-manage-orders" title="View Orders" data-id="2" data-name="Jane Smith">üõí</button>
                                                    <button type="button" class="btn btn-sm btn-outline-secondary js-manage-addresses" title="View Addresses" data-id="2" data-name="Jane Smith">üè†</button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="view-order-list" class="view-section">
                        <h2 class="fw-bold mb-3">Order List</h2>
                        <div class="text-muted small mb-4">Total Orders: 3</div>

                        <div class="glass-card h-100 d-flex flex-column">
                            <div class="table-responsive">
                                <table class="table table-hover mb-0 align-middle products-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Order Type</th>
                                            <th>Order Date</th>
                                            <th>Net Amount</th>
                                            <th>Status</th>
                                            <th>Confirmed</th>
                                            <th class="text-end">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="fw-medium">ORD-1001</td>
                                            <td>Online</td>
                                            <td class="small">Oct 24, 2023</td>
                                            <td>Tk. 2,500.00</td>
                                            <td><span class="badge bg-success text-white">Confirmed</span></td>
                                            <td>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input confirm-toggle" type="checkbox" role="switch" checked>
                                                    <label class="form-check-label small">Yes</label>
                                                </div>
                                            </td>
                                            <td class="text-end">
                                                <button type="button"
                                                        class="btn btn-sm btn-outline-info"
                                                        data-bs-toggle="modal"
                                                        data-bs-target="#detailsModal"
                                                        onclick="populateOrderModal('ORD-1001', 'Confirmed', 'Online', '2,500.00', '0.00', '2,500.00')"
                                                        title="View Details">
                                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="fw-medium">ORD-1002</td>
                                            <td>Direct</td>
                                            <td class="small">Oct 25, 2023</td>
                                            <td>Tk. 1,200.00</td>
                                            <td><span class="badge bg-warning text-dark">Pending</span></td>
                                            <td>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input confirm-toggle" type="checkbox" role="switch">
                                                    <label class="form-check-label small">No</label>
                                                </div>
                                            </td>
                                            <td class="text-end">
                                                <button type="button"
                                                        class="btn btn-sm btn-outline-info"
                                                        data-bs-toggle="modal"
                                                        data-bs-target="#detailsModal"
                                                        onclick="populateOrderModal('ORD-1002', 'Pending', 'Direct', '1,200.00', '0.00', '1,200.00')"
                                                        title="View Details">
                                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="view-add-order" class="view-section">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 class="fw-bold mb-0">üõí Create Direct Order</h2>
                            <span class="badge bg-primary fs-6">Admin Console</span>
                        </div>

                        <div class="row">
                            <div class="col-lg-8">
                                <div class="glass-card p-4 mb-4">
                                    <div class="d-flex justify-content-between align-items-center mb-3">
                                        <h5 class="fw-bold text-primary m-0">Customer & Delivery Info</h5>

                                        <div class="btn-group" role="group">
                                            <input type="radio" class="btn-check" name="orderMode" id="modeDelivery" autocomplete="off" checked>
                                            <label class="btn btn-outline-primary btn-sm" for="modeDelivery">üöö Home Delivery</label>

                                            <input type="radio" class="btn-check" name="orderMode" id="modeStore" autocomplete="off">
                                            <label class="btn btn-outline-success btn-sm" for="modeStore">üè™ In-Store Sale</label>
                                        </div>
                                    </div>

                                    <form id="direct-order-form">
                                        <div class="row g-3 mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold">Phone Number <span class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <input type="text" class="form-control" id="custPhone" name="CustomerPhone" placeholder="017..." required>
                                                    <button class="btn btn-outline-secondary" type="button" id="btnCheckCust" title="Search">üîç</button>
                                                </div>
                                                <small id="custStatus" class="text-muted">Enter phone to autofill</small>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label fw-bold">Customer Name <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" id="custName" name="CustomerName" required>
                                            </div>
                                        </div>

                                        <div class="mb-3">
                                            <label class="form-label">Email Address <span class="text-muted small">(Optional)</span></label>
                                            <input type="email" class="form-control" id="custEmail" name="CustomerEmail" placeholder="customer@example.com">
                                        </div>

                                        <div id="address-container">
                                            <div class="mb-3">
                                                <label class="form-label">Address / Street <span class="text-danger">*</span></label>
                                                <textarea class="form-control" id="custAddress" name="Street" rows="2" placeholder="House No, Road No..."></textarea>
                                            </div>
                                            <div class="row g-3 mb-3">
                                                <div class="col-md-4">
                                                    <label class="form-label fw-bold">Postal Code</label>
                                                    <input type="text" class="form-control" id="postalCode" name="PostalCode" placeholder="e.g. 1212">
                                                    <small class="text-muted" id="postalStatus">Type to autofill</small>
                                                </div>
                                                <div class="col-md-8">
                                                    <label class="form-label">Division <span class="text-danger">*</span></label>
                                                    <select class="form-select" id="division-select" name="Divison"><option value="">Select Division</option></select>
                                                </div>
                                            </div>
                                            <div class="row g-3">
                                                <div class="col-md-4"><label class="form-label">District</label><select class="form-select" id="district-select" name="City" disabled><option value="">Select...</option></select></div>
                                                <div class="col-md-4"><label class="form-label">Thana</label><select class="form-select" id="thana-select" name="Thana" disabled><option value="">Select...</option></select></div>
                                                <div class="col-md-4"><label class="form-label">Sub-Office</label><select class="form-select" id="suboffice-select" name="SubOffice" disabled><option value="">Select...</option></select></div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="glass-card p-4 h-100">
                                    <h5 class="fw-bold mb-3 text-success">Order Items</h5>

                                    <div class="mb-3">
                                        <label class="form-label fw-bold">1. Select Product <span class="text-danger">*</span></label>
                                        <select class="form-select" id="productSelect" required>
                                            <option value="">Choose Product...</option>
                                            <option value="1">Combo Offer</option>
                                            <option value="2">Winter Hoodie</option>
                                        </select>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label fw-bold">2. Select Variant <span class="text-danger">*</span></label>
                                        <select class="form-select" id="variantSelect" required>
                                            <option value="" data-price="0">Select Variant...</option>
                                            <option value="1">L - Black</option>
                                            <option value="2">XL - Black</option>
                                        </select>
                                        <div id="stockInfo" class="form-text text-end">Available: 50</div>
                                    </div>

                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Quantity</label>
                                        <input type="number" class="form-control" id="orderQty" value="1" min="1">
                                    </div>

                                    <hr>

                                    <div class="d-flex justify-content-between mb-2 small">
                                        <span>Unit Price:</span>
                                        <span class="fw-medium">Tk. <span id="displayPrice">0.00</span></span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2 small">
                                        <span>Subtotal:</span>
                                        <span class="fw-medium">Tk. <span id="displaySubTotal">0.00</span></span>
                                    </div>

                                    <div class="d-flex justify-content-between mb-2 text-danger">
                                        <span>Discount:</span>
                                        <span class="fw-bold">- Tk. <span id="displayDiscount">0.00</span></span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2 small">
                                        <span>Delivery:</span>
                                        <span class="fw-medium text-primary">+ Tk. <span id="displayDelivery">0.00</span></span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-4 border-top pt-2">
                                        <span class="fs-5 fw-bold">Net Payable:</span>
                                        <span class="fs-5 fw-bold text-success">Tk. <span id="displayNet">0.00</span></span>
                                    </div>

                                    <div class="form-check form-switch mb-4">
                                        <input class="form-check-input" type="checkbox" id="confirmImmediately" checked>
                                        <label class="form-check-label" for="confirmImmediately">Confirm Immediately</label>
                                    </div>

                                    <button type="button" id="btnPlaceOrder" class="btn btn-primary w-100 py-2 fw-bold">
                                        Create Direct Order
                                    </button>
                                    <div id="orderMsg" class="mt-3 text-center small"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div> 
            </div> 
        </main>
    </div>

    <div class="modal fade" id="dataModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content modal-custom">
                <div class="modal-header">
                    <h5 class="modal-title" id="dataModalTitle">Customer Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" id="closeDataModalBtn" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="dataModalBody">
                    <div class="customer-details-modal">
                        <div class="info-section order-card card-confirmed">
                            <div class="section-header">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="text-success"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" /><path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" /></svg>
                                <span>Account Status</span>
                            </div>
                            <div class="section-content">
                                <span class="status-badge status-active">Active Account</span>
                            </div>
                        </div>

                        <div class="info-section address-card">
                            <div class="section-header">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" /></svg>
                                <span>Primary Information</span>
                            </div>
                            <div class="section-content">
                                <div class="info-grid">
                                    <div class="info-item"><span class="info-label">Customer ID</span><span class="info-value">#1</span></div>
                                    <div class="info-item"><span class="info-label">Full Name</span><span class="info-value">John Doe</span></div>
                                    <div class="info-item"><span class="info-label">Email Address</span><span class="info-value">john.doe@example.com</span></div>
                                    <div class="info-item"><span class="info-label">Phone Number</span><span class="info-value">123-456-7890</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="info-section address-card">
                            <div class="section-header"><svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-3zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V2z" /></svg><span>Demographics</span></div>
                            <div class="section-content">
                                <div class="info-grid">
                                    <div class="info-item"><span class="info-label">Date of Birth</span><span class="info-value">Jan 01, 1990</span></div>
                                    <div class="info-item"><span class="info-label">Gender</span><span class="info-value">Male</span></div>
                                </div>
                            </div>
                        </div>

                        <div class="info-section order-card card-pending">
                            <div class="section-header"><svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z" /><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z" /></svg><span>Administrative Notes</span></div>
                            <div class="section-content">
                                <div class="notes-box">This is a VIP customer.</div>
                            </div>
                        </div>

                        <div class="info-section order-card card-other">
                            <div class="section-header"><svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z" /></svg><span>Audit Trail</span></div>
                            <div class="section-content">
                                <div class="info-grid">
                                    <div class="info-item"><span class="info-label">Created At</span><span class="info-value">Jan 01, 2023 10:00</span></div>
                                    <div class="info-item"><span class="info-label">Created By</span><span class="info-value">Admin</span></div>
                                    <div class="info-item"><span class="info-label">Last Updated</span><span class="info-value">Mar 15, 2023 14:30</span></div>
                                    <div class="info-item"><span class="info-label">Updated By</span><span class="info-value">Admin</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="productDetailsModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-custom">
                    <h5 class="modal-title">Product Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" style="background: #f8f9fa;">
                    <div class="product-details-card">
                        <div class="details-header">
                            <div class="details-header-icon">
                                <i class="fas fa-box"></i>
                            </div>
                            <h5 class="mb-0 fw-bold">Combo Offer ‚Äì 3 Premium T-Shirts</h5>
                        </div>
                        <div class="row g-0">
                            <div class="col-md-7 p-4">
                                <h6 class="text-muted text-uppercase small fw-bold mb-3">Basic Info</h6>
                                <div class="detail-group mb-2">
                                    <label class="small text-muted fw-bold d-block">Category</label>
                                    <span class="category-tag">Apparel</span>
                                </div>
                                <div class="detail-group mb-2">
                                    <label class="small text-muted fw-bold d-block">Price</label>
                                    <span class="price-value">1,999.00</span>
                                </div>
                            </div>
                            <div class="col-md-5 bg-light p-4 border-start">
                                <h6 class="text-muted text-uppercase small fw-bold mb-3">System Status</h6>
                                <span class="status-badge status-active">Active</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editProductModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-custom">
                    <h5 class="modal-title">Edit Product</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="p-2">
                        <div class="mb-4">
                            <label class="form-label fw-bold text-muted small text-uppercase">Product Name</label>
                            <input class="form-control form-control-lg fw-bold" value="Combo Offer ‚Äì 3 Premium T-Shirts" />
                        </div>
                        <div class="row g-3 mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted small text-uppercase">Category</label>
                                <select class="form-select"><option selected>Apparel</option></select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold text-muted small text-uppercase">Slug</label>
                                <input class="form-control bg-light text-secondary" value="combo-offer" readonly />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-0">
                    <button class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteProductModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content modal-custom">
                <div class="modal-header modal-header-danger">
                    <h5 class="modal-title"><i class="fas fa-exclamation-triangle me-2"></i> Delete Product</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="delete-warning">
                        <div class="warning-icon">!</div>
                        <div class="delete-warning-content">
                            <p>Are you sure you want to delete <strong>Combo Offer</strong>?</p>
                            <p class="small text-muted">This action cannot be undone.</p>
                        </div>
                    </div>
                    <button class="btn btn-danger w-100">Confirm Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="detailsModal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable order-details-modal">
            <div class="modal-content">
                <div class="modal-header modal-header-soft">
                    <h5 class="modal-title" id="detailsModalLabel">Order <span id="m-id" class="text-primary"></span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="info-section status-section">
                        <div class="section-header">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z" />
                            </svg>
                            <span>Order Status</span>
                        </div>
                        <div class="section-content">
                            <h4 id="m-status" class="mb-0"></h4>
                        </div>
                    </div>

                    <div class="info-section">
                        <div class="section-header">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                            </svg>
                            <span>General Information</span>
                        </div>
                        <div class="section-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">Order Type</span>
                                    <span class="info-value" id="m-type"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Customer ID</span>
                                    <span class="info-value">#CUST-881</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-section financial-section">
                        <div class="section-header">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z" />
                            </svg>
                            <span>Financial Breakdown</span>
                        </div>
                        <div class="section-content">
                            <div class="finance-grid">
                                <div class="finance-item">
                                    <span class="finance-label">Total Amount</span>
                                    <span class="finance-value">Tk. <span id="m-total"></span></span>
                                </div>
                                <div class="finance-item discount">
                                    <span class="finance-label">Discount</span>
                                    <span class="finance-value">- Tk. <span id="m-discount"></span></span>
                                </div>
                                <div class="finance-item net">
                                    <span class="finance-label">Net Amount</span>
                                    <span class="finance-value">Tk. <span id="m-net"></span></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-section">
                        <div class="section-header">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.708 2.825L15 11.105V5.383zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741zM1 11.105l4.708-2.897L1 5.383v5.722z" />
                            </svg>
                            <span>Technical Data</span>
                        </div>
                        <div class="section-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">IP Address</span>
                                    <span class="info-value code">192.168.0.1</span>
                                </div>
                                <div class="info-item full-width">
                                    <span class="info-label">Session ID</span>
                                    <span class="info-value code">sess_89230129</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer modal-footer-soft">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        // 1. Sidebar Toggle Script
        document.getElementById('sidebar-toggle-btn').addEventListener('click', function() {
            document.getElementById('admin-sidebar').classList.toggle('toggled');
        });

        // 2. SPA Navigation Logic
        function switchView(viewName) {
            // A. Hide all views
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            
            // B. Reset Navigation Active States
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-link-sm').forEach(el => el.classList.remove('active'));
            
            // C. Show Target View & Highlight Nav
            if (viewName === 'dashboard') {
                document.getElementById('view-dashboard').classList.add('active');
                document.getElementById('nav-dashboard').classList.add('active');
            } 
            else if (viewName === 'product-list') {
                document.getElementById('view-product-list').classList.add('active');
                document.getElementById('nav-products-parent').classList.add('active'); // Parent highlight
                document.getElementById('nav-product-list').classList.add('active');
                
                var bsCollapse = new bootstrap.Collapse(document.getElementById('productsMenu'), { toggle: false });
                bsCollapse.show();
            } 
            else if (viewName === 'add-product') {
                document.getElementById('view-add-product').classList.add('active');
                document.getElementById('nav-products-parent').classList.add('active'); // Parent highlight
                document.getElementById('nav-add-product').classList.add('active');

                var bsCollapse = new bootstrap.Collapse(document.getElementById('productsMenu'), { toggle: false });
                bsCollapse.show();
            }
            else if (viewName === 'customer-list') {
                document.getElementById('view-customer-list').classList.add('active');
                document.getElementById('nav-customers').classList.add('active');
            }
            // --- NEW: Orders Navigation ---
            else if (viewName === 'order-list') {
                document.getElementById('view-order-list').classList.add('active');
                document.getElementById('nav-orders-parent').classList.add('active'); // Parent
                document.getElementById('nav-order-list').classList.add('active');

                var bsCollapse = new bootstrap.Collapse(document.getElementById('OrdersMenu'), { toggle: false });
                bsCollapse.show();
            }
            else if (viewName === 'add-order') {
                document.getElementById('view-add-order').classList.add('active');
                document.getElementById('nav-orders-parent').classList.add('active'); // Parent
                document.getElementById('nav-add-order').classList.add('active');

                var bsCollapse = new bootstrap.Collapse(document.getElementById('OrdersMenu'), { toggle: false });
                bsCollapse.show();
            }
        }

        // 3. Simple Mock Function to Populate Order Modal
        function populateOrderModal(id, status, type, total, discount, net) {
            document.getElementById('m-id').innerText = id;
            document.getElementById('m-status').innerText = status;
            document.getElementById('m-type').innerText = type;
            document.getElementById('m-total').innerText = total;
            document.getElementById('m-discount').innerText = discount;
            document.getElementById('m-net').innerText = net;
            
            const statusEl = document.getElementById('m-status');
            statusEl.className = 'mb-0'; // reset
            if(status === 'Confirmed') statusEl.classList.add('bg-success');
            else if(status === 'Pending') statusEl.classList.add('bg-warning');
        }

        // 4. Date & Charts (Dashboard Specific)
        document.getElementById('currentDate').innerText = new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });

        const salesCtx = document.getElementById('salesChart').getContext('2d');
        new Chart(salesCtx, {
            type: 'line',
            data: {
                labels: ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                datasets: [{
                    label: 'Monthly Sales (Tk)',
                    data: [12000, 19000, 15000, 22000, 24000, 30000],
                    borderColor: '#3b82f6',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { beginAtZero: true, grid: { borderDash: [2, 4], color: '#e5e7eb' } },
                    x: { grid: { display: false } }
                }
            }
        });

        const statusCtx = document.getElementById('statusChart').getContext('2d');
        new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['Confirmed', 'Pending', 'Shipped', 'Delivered'],
                datasets: [{
                    data: [40, 25, 15, 20],
                    backgroundColor: ['#86efac', '#fcd34d', '#a78bfa', '#38bdf8'],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '75%',
                plugins: {
                    legend: { position: 'right', labels: { boxWidth: 12, usePointStyle: true } }
                }
            }
        });

        // 5. Add Order Logic: Toggle Address Section
        const modeDelivery = document.getElementById('modeDelivery');
        const modeStore = document.getElementById('modeStore');
        const addressContainer = document.getElementById('address-container');

        function toggleAddress() {
            if (modeStore.checked) {
                addressContainer.style.display = 'none';
            } else {
                addressContainer.style.display = 'block';
            }
        }

        if (modeDelivery && modeStore && addressContainer) {
            modeDelivery.addEventListener('change', toggleAddress);
            modeStore.addEventListener('change', toggleAddress);
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            switchView('dashboard');
            // Initialize Address Toggle State
            if(typeof toggleAddress === 'function') toggleAddress(); 
        });
    </script>
</body>
</html>